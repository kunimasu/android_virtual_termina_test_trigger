name: test trigger
description: "Test trigger for Kunimasu"

inputs:
  kunimasu-url:
    required: true
    description: "kunimasu url"
  repo-name:
    required: true
    description: "Repo name"
  repo-owner:
    required: true
    description: "Repo owner"
  repo-head-sha:
    required: true
    description: "Repo head sha"
  github-token:
    required: true
    description: "Github token"
  github_api_url:
    description: The API URL of the GitHub server.
    default: ${{ github.api_url }}
  repository:
    description: The full name of the repository for which the token will be requested.
    default: ${{ github.repository }}
outputs:
  result:
    description: "Kunimasu result"

runs:
  using: docker
  image: Dockerfile
  env:
    KUNIMASU_URL: ${{ inputs.kunimasu-url }}
    REPO_NAME: ${{ inputs.repo-name }}
    REPO_OWNER: ${{ inputs.repo-owner }}
    REPO_HEAD_SHA: ${{ inputs.repo-head-sha }}
    GITHUB_TOKEN: ${{ inputs.github-token }}
    GITHUB_API_URL: ${{ inputs.api_url }}
    REPO: ${{ inputs.repository }}